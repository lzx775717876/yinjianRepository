!function(n){"use strict";function e(){}e.prototype.init=function(){var e,t,a;n.isFunction(n.fn.fullCalendar)?(n("#external-events .fc-event").each(function(){var e={title:n.trim(n(this).text())};n(this).data("eventObject",e),n(this).draggable({zIndex:999,revert:!0,revertDuration:0})}),e=(a=new Date).getDate(),t=a.getMonth(),a=a.getFullYear(),n("#calendar").fullCalendar({header:{left:"prev,next today",center:"title",right:"month,basicWeek,basicDay"},editable:!0,eventLimit:!0,droppable:!0,drop:function(e,t){var a=n(this).data("eventObject"),a=n.extend({},a);a.start=e,a.allDay=t,n("#calendar").fullCalendar("renderEvent",a,!0),n("#drop-remove").is(":checked")&&n(this).remove()},events:[{title:"All Day Event",start:new Date(a,t,1)},{title:"Long Event",start:new Date(a,t,e-5),end:new Date(a,t,e-2)},{id:999,title:"Repeating Event",start:new Date(a,t,e-3,16,0),allDay:!1},{id:999,title:"Repeating Event",start:new Date(a,t,e+4,16,0),allDay:!1},{title:"Meeting",start:new Date(a,t,e,10,30),allDay:!1},{title:"Lunch",start:new Date(a,t,e,12,0),end:new Date(a,t,e,14,0),allDay:!1},{title:"Birthday Party",start:new Date(a,t,e+1,19,0),end:new Date(a,t,e+1,22,30),allDay:!1},{title:"Click for Google",start:new Date(a,t,28),end:new Date(a,t,29),url:"http://google.com/"}]}),n("#add_event_form").on("submit",function(e){e.preventDefault();var t=n(this).find(".new-event-form"),a=t.val();3<=a.length?(e="new"+Math.random().toString(36).substring(7),n("#external-events").append('<div id="'+e+'" class="fc-event">'+a+"</div>"),a={title:n.trim(n("#"+e).text())},n("#"+e).data("eventObject",a),n("#"+e).draggable({revert:!0,revertDuration:0,zIndex:999}),t.val("").focus()):t.focus()})):alert("Calendar plugin is not installed")},n.CalendarPage=new e,n.CalendarPage.Constructor=e}(window.jQuery),function(){"use strict";window.jQuery.CalendarPage.init()}();